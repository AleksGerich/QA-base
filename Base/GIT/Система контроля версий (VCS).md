---
tags:
---

---
# Система контроля версий

**Система контроля версий (VCS)** – это ПО, которое помогает команде разработчиков управлять изменениями исходного кода. Система контроля версий отслеживает каждую модификацию кода в специальном виде базы данных. Если допущена ошибка, разработчики могут сравнить предыдущую версию кода с текущей и исправить тем самым.

VCS даёт возможность:
1. возвращать отдельные файлы к прежнему виду;
2. возвращать к прежнему состоянию весь проект;
3. просматривать происходящие со временем изменения;
4. определять, кто последним вносил изменения во внезапно переставший работать модуль, кто и когда внёс в код какую-то ошибку.

Если просто копировать код в каталоги, то:  
- Возникает избыточность (дублируется весь код, а не только изменения);
- Нет механизмов для распределения работы между несколькими разработчиками;
- Нет данных о том что именно изменилось (обычно пишут history файл с общей информацией об изменениях).

Многие предпочитают контролировать версии, просто копируя файлы в другой каталог (как правило добавляя текущую дату к названию каталога). Но это приводит к ошибкам

---
# Виды систем контроля версий

## Локальные репозитории

Давно были разработаны локальные VCS с простой базой данных, в которой хранятся все изменения нужных файлов.

![[Pasted image 20241130154442.png]]

***Преимущества:***
1. Позволяет хранить историю изменения файлов локально, без интернета.
2. Пользователь независим от сторонних серверов.

**Недостатки:**
1. Можно потерять все файлы, если с вашем компьютером что-то случится.
2. Невозможно работать в команде, поскольку репозиторий доступен только вам.

## Централизованные репозитории

Для написания кода общей командой. В таких системах, есть центральный сервер, на котором хранятся все файлы под версионным контролем, и ряд клиентов, которые получают копии файлов из него. Все знают, кто и чем занимается в проекте. У администраторов есть чёткий контроль над тем, кто и что может делать, и, конечно, администрировать CVCS намного легче, чем локальные базы на каждом клиенте.

![[Pasted image 20241130154952.png]]
*@:* Apache Subversion

***Преимущества:***
1. Можно работать в команде с другими разработчиками.
2. Руководство видит, чем вы занимаетесь.
3. У администратора есть четкий контроль, кто и что может делать. Администрировать центральную VCS намного проще, чем локальные на каждой машине.

**Недостатки:**
1. Все данные хранятся только на одном сервере. Если он выключится, то работу всей компании парализует.
2. Если с сервером что-то случится, а копий данных нет, то весь проект может быть потерян.
3. Для работы необходим хороший интернет на протяжении целого дня.

## Распределенные репозитории

Клиенты не просто выгружают последние версии файлов, а полностью копируют весь репозиторий. При этом можно выделить центральный репозиторий (условно), в который будут отправляться изменения из локальных и, с ним же эти локальные репозитории будут синхронизироваться. Поэтому в случае, когда "умирает" сервер, через который шла работа, любой клиентский репозиторий может быть скопирован обратно на сервер, чтобы восстановить базу данных. Каждый раз, когда клиент забирает свежую версию файлов, он создаёт себе полную копию всех данных.

Кроме того, в большей части этих систем можно работать с несколькими удалёнными репозиториями.

![[Pasted image 20241130155342.png]]
*@:* 
•Git
•Mercurial
•Bazaar
•Darks

***Преимущества:***
1. Работа компании теперь не зависит от работы сервера. Если сервер отключится, то каждый сотрудник продолжит работу с локальной копией репозитория, а после загрузит ее на сервер.
2. Можно работать с несколькими удаленными репозиториями, делиться кодом с другими людьми и коллаборировать целыми компаниями.

**Недостатки:**
1. Отсутствие блокировок.
2. Неудобства при работе с большими репозиториями.
3. Сложно полностью удалить что-то из репозитория.
4. Сложное администрирование.
5. Сложнее в использовании и понимании, чем централизованные системы.